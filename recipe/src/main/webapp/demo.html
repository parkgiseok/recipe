Skip to content Personal Open source Business Explore Sign upSign
inPricingBlogSupport This repository Search Watch 4 Star 0 Fork 0
SeongJunKang/BitProject Code Issues 0 Pull requests 0 Pulse Graphs
Branch: master Find file Copy
pathBitProject/bitproject/src/main/webapp/main/petsearch.html 82da956 20
hours ago @goodbyh goodbyh y 2 contributors @goodbyh @SeongJunKang
RawBlameHistory 548 lines (498 sloc) 20.2 KB
<!DOCTYPE html>
<html lang="en">

<head>

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author" content="">

<title>산책할개</title>

<!-- Bootstrap Core CSS -->
<link href="../bower_components/bootstrap/dist/css/bootstrap.css"
	rel="stylesheet">

<!-- Custom CSS -->
<link href="../css/agency.css" rel="stylesheet">

<!-- Custom Fonts -->
<link href="../font-awesome/css/font-awesome.min.css" rel="stylesheet"
	type="text/css">
<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700"
	rel="stylesheet" type="text/css">
<link href='https://fonts.googleapis.com/css?family=Kaushan+Script'
	rel='stylesheet' type='text/css'>
<link
	href='https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic'
	rel='stylesheet' type='text/css'>
<link
	href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700'
	rel='stylesheet' type='text/css'>
<link rel="stylesheet"
	href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
<style type="text/css">
.form-control {
	display: inline-block;
}

.birth1 {
	margin-left: 23px;
	margin-right: 2px;
}

.birth2 {
	margin-left: 26px;
	width: 61px;
	margin-right: 2px;
}

.birth3 {
	margin-left: 24px;
	width: 61px;
	margin-right: 2px;
}

#birthdayYear {
	width: 80px;
}

.upname {
	width: 309px;
}

.gender {
	margin-left: 27px;
}

.input-group1 {
	display: inline-block;
	margin-left: 14px;
	margin-right: 2px;
	width: 60px;
}

.input-group2 {
	display: inline-block;
	margin: 0px 2px 0px 1px;
	width: 60px;
}

.input-group3 {
	display: inline-block;
	margin-left: 1px;
	width: 60px;
}

#phonenumber {
	margin-right: 8px;
}

#agency {
	width: 87px;
}

ul.pagination {
	display: inline-block;
	padding: 0;
	margin: 0;
}

ul.pagination li {
	display: inline;
}

ul.pagination li a {
	color: black;
	float: left;
	padding: 8px 16px;
	text-decoration: none;
}
</style>
</head>

<body id="page-top" class="index">

	<!-- Navigation -->
	<nav class="navbar navbar-default navbar-fixed-top">
		<div class="container">
			<!-- Brand and toggle get grouped for better mobile display -->
			<div class="navbar-header page-scroll">
				<button type="button" class="navbar-toggle" data-toggle="collapse"
					data-target="#bs-example-navbar-collapse-1">
					<span class="sr-only">Toggle navigation</span> <span
						class="icon-bar"></span> <span class="icon-bar"></span> <span
						class="icon-bar"></span>
				</button>
				<a class="navbar-brand page-scroll" onclick="goMain(event)"
					href="#page-top"><img class='logoimg'
					src='../img/logos/dlogo.PNG'></a>
			</div>

			<!-- Collect the nav links, forms, and other content for toggling -->
			<div class="collapse navbar-collapse"
				id="bs-example-navbar-collapse-1">
				<ul class="nav navbar-nav navbar-right">
					<li class="hidden"><a href="#page-top"></a></li>
					<li><a class="page-scroll " id="latest" href=".section">최신순</a>
					</li>
					<li><a class="page-scroll " id="popu" href=".section">인기순</a>
					</li>
					<li><a class="page-scroll " id="byname" href=".section">이름순</a>
					</li>
					<li><a class="page-scroll " id="bysales" href=".section">판매누적순</a>
					</li>
					<li><a class="page-scroll " id="byprice" href=".section">가격순</a>
					</li>
				</ul>
			</div>
			<!-- /.navbar-collapse -->
		</div>
		<!-- /.container-fluid -->
	</nav>

	<!-- Header -->
	<header>
		<div class="container">
			<div class="intro-text">
				<div class="intro-lead-in">What we want is....</div>
				<div class="intro-heading">Loving dog Walker</div>
				<div class="col-lg-6 col-lg-offset-3">
					<div class="input-group">
						<div class="input-group-btn">
							<button style="background-color: #fed136;" type="button"
								class="btn dropdown-toggle" data-toggle="dropdown"
								aria-haspopup="true" aria-expanded="false">
								<span id="select_location">지역</span> <span class="caret"></span>
							</button>
							<ul class="dropdown-menu">
								<li><a href="#" class="selected_location">전체</a></li>
								<li><a href="#" class="selected_location">서울</a></li>
								<li><a href="#" class="selected_location">경기</a></li>
								<li><a href="#" class="selected_location">인천</a></li>
								<li><a href="#" class="selected_location">강원</a></li>
							</ul>
						</div>
						<!-- /btn-group -->
						<input id='search_input' type="text" class="form-control"
							placeholder="예) 서울시 도봉구" aria-label="...">
					</div>
					<!-- /input-group -->
				</div>
				<!-- /.col-lg-6 -->
				<button type='button' style='margin-left: -230px;' id="search_btn"
					class='btn btn-me'>
					<span class='fa fa-search'></span>검색
				</button>
			</div>
			<!-- /.row -->
		</div>
	</header>

	<!-- grid section-->
	<section id="portfolio" class="bg-light-gray section">
		<div class="container">
			<div class="row">
				<div class="col-lg-12 text-center">
					<h2 class="section-heading">DogWalkers</h2>
					<h3 class="section-subheading text-muted">최신순</h3>
				</div>
			</div>
			<div class="row" id="petsitter"></div>
			<div class='row' id='hehe'>
				<nav>
					<ul class="pagination" style="margin-left: 43%;">

					</ul>
				</nav>
			</div>
		</div>
	</section>

	<footer>
		<div class="container">
			<div class="row">
				<div class="col-md-4">
					<span class="copyright">Copyright &copy; 산책할개 2016</span>
				</div>
				<div class="col-md-4">
					<ul class="list-inline social-buttons">
						<li><a href="#"><i class="fa fa-twitter"></i></a></li>
						<li><a href="#"><i class="fa fa-facebook"></i></a></li>
						<li><a href="#"><i class="fa fa-linkedin"></i></a></li>
					</ul>
				</div>
				<div class="col-md-4">
					<ul class="list-inline quicklinks">
						<li><a href="#">Privacy Policy</a></li>
						<li><a href="#">Terms of Use</a></li>
					</ul>
				</div>
			</div>
		</div>
	</footer>
	<script
		src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

	<!-- jQuery -->
	<script src="../bower_components/jquery/dist/jquery.js"></script>

	<!-- Bootstrap Core JavaScript -->
	<script src="../bower_components/bootstrap/dist/js/bootstrap.js"></script>

	<!-- Plugin JavaScript -->
	<script
		src="http://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
	<script src="../js/classie.js"></script>
	<script src="../js/cbpAnimatedHeader.js"></script>

	<!-- Custom Theme JavaScript -->
	<script src="../js/agency.js"></script>
	<script type="text/javascript" src="../js/LoginCheck.js"></script>
	<script id="sitterlist" type="text/x-handlebars-template">
    {{#each list}}
      <div data-pno="{{pno}}" class="col-md-4 col-sm-6 portfolio-item">
          <a href="#" onclick="onclickDetail(event)" class="portfolio-link po1" data-pno="{{pno}}" data-toggle="modal">
              <div class="portfolio-hover">
                  <div class="portfolio-hover-content">
                      <i class="fa fa-plus fa-3x"></i>
                  </div>
              </div>
              <img src="{{img}}" class="img-responsive" alt="">
          </a>
          <div class="portfolio-caption">
              <h4>{{nick}}</h4>
              <p class="text-muted">{{region}}</p>
          </div>
     </div>
    {{/each}}
    </script>
	<!-- Handlebars  JavaScript -->
	<script src="../bower_components/handlebars/handlebars.min.js"></script>
	<script type="text/javascript">
		console.log(5)
		var thisMenu = "pno";
		//이전버튼
		function pre() {
			console.log(sessionStorage.getItem("nowpage"))
			if (sessionStorage.getItem("nowpage") > 1)
				gopage(sessionStorage.getItem("nowpage") * 1 - 1)
		}
		//다음버튼
		function next() {
			console.log(sessionStorage.getItem("nowpage"))
			if (sessionStorage.getItem("nowpage") < sessionStorage
					.getItem("totalPage"))
				gopage(sessionStorage.getItem("nowpage") * 1 + 1)
		}
		//petsearch들어오면 첫화면출력
		gopage(1);
		//페이지 버튼
		function gopage(i) {
			sessionStorage.setItem("nowpage", i);
			$.getJSON("../ajax/petsitter/list.do?order=" + thisMenu
					+ "&pageNo=" + i, function(result) {
				console.log(thisMenu);
				$("#petsitter").empty();
				var templateData = $("#sitterlist").html();
				var template = Handlebars.compile(templateData);
				var html = template(result);
				$("#petsitter").append(html);
			})

			var TagText = $(".section-subheading");
			$("#latest").click(
					function(event) {
						thisMenu = "latest";
						$("#petsitter").empty();
						event.preventDefault();
						TagText.text($("#latest").text());
						$.getJSON("../ajax/petsitter/list.do?order=" + thisMenu
								+ "&pageNo=" + i, function(result) {
							console.log(thisMenu);
							var templateData = $("#sitterlist").html();
							var template = Handlebars.compile(templateData);
							var html = template(result);
							$("#petsitter").append(html);
						});
						//        prio(thisMenu);
					});

			$("#popu").click(
					function() {
						thisMenu = "likes";
						event.preventDefault();
						$("#petsitter").empty();
						TagText.text($("#popu").text());
						$.getJSON("../ajax/petsitter/list.do?order=" + thisMenu
								+ "&pageNo=" + i, function(result) {
							console.log(thisMenu);
							var templateData = $("#sitterlist").html();
							var template = Handlebars.compile(templateData);
							var html = template(result);
							$("#petsitter").append(html);
						});
						//     prio(thisMenu);
					});
			$("#byname").click(
					function() {
						thisMenu = "nick";
						$("#petsitter").empty();
						event.preventDefault();
						TagText.text($("#byname").text());
						$.getJSON("../ajax/petsitter/list.do?order=" + thisMenu
								+ "&pageNo=" + i, function(result) {
							console.log(thisMenu);
							var templateData = $("#sitterlist").html();
							var template = Handlebars.compile(templateData);
							var html = template(result);
							$("#petsitter").append(html);
						});
						//   prio(thisMenu);
					});
			$("#byprice").click(
					function() {
						thisMenu = "amt";
						$("#petsitter").empty();
						event.preventDefault();
						TagText.text($("#byprice").text());
						$.getJSON("../ajax/petsitter/list.do?order=" + thisMenu
								+ "&pageNo=" + i, function(result) {
							console.log(thisMenu);
							var templateData = $("#sitterlist").html();
							var template = Handlebars.compile(templateData);
							var html = template(result);
							$("#petsitter").append(html);
						});
						// prio(thisMenu);
					});

			$("#bysales").click(function() {
				TagText.text($("#bysales").text());
			});
		};

		$(function prio(thisMenu) {
			$
					.getJSON(
							"../ajax/petsitter/list.do?order=" + thisMenu,
							function(result) {
								console.log("st=" + thisMenu)
								var pagingTag = $(".pagination");
								sessionStorage.setItem("totalPage",
										result.totalPage);
								$("<li>")
										.html(
												"<a href='javascript:pre()' aria-label='Previous'><span aria-hidden='true'>&laquo;</span></a></li>")
										.appendTo(pagingTag);
								for (var i = 1; i <= result.totalPage; i++) {
									$("<li>").html(
											"<a href='javascript:gopage(" + i
													+ ")'>" + i + "</a></li>")
											.appendTo(pagingTag);
								}
								$("<li>")
										.html(
												"<a href='javascript:next()' aria-label='Next'><span aria-hidden='true'>&raquo;</span></a></li>")
										.appendTo(pagingTag);
							})

		});

		$(document).ready(function() {// Add contents for max height
			$(".selected_location").click(function(event) {
				$("#select_location").text($(this).text());
				$(function() {
					$.ajax({
						url : "../ajax/petsitter/search.do",
						dataType : "json",
						data : {
							index : $("#select_location").text()
						},
						success : function(result) {
							var templateData = $("#sitterlist").html();
							var template = Handlebars.compile(templateData);
							var html = template(result);
							$("#petsitter").html(html);
						}
					})
				});
				event.preventDefault();
			});
			$("#search_btn").click(function() {
				$.ajax({
					url : "../ajax/petsitter/search.do",
					dataType : "json",
					data : {
						index : $("#search_input").val()
					},
					success : function(result) {
						var templateData = $("#sitterlist").html();
						var template = Handlebars.compile(templateData);
						var html = template(result);
						$("#petsitter").html(html);
					}
				})
			})
			$('#search_input').keyup(function(e) {
				if (e.keyCode == 13) {
					$("#search_btn").click();
				}
			});
			

		});

		var search = document.querySelector(".search");
		

		function onclickDetail(event) {
			location.href = "detail.html?no="
					+ $(event.currentTarget).attr("data-pno")
			event.preventDefault();
		}

		function goMain(event) {
			location.href = "index.html"
			event.preventDefault();
		}
	</script>
</body>
</html>
